var customSalsa={settings:{ajaxDelay:50,ajaxDefaultEvent:"salsaajax",bodyClasses:{getLocal:"lookup","supporter/unsubscribe":"unsubscribe",profile:"profile",blastContent:"blasts","/letter":"letter-to-editor","/event/":"event","/my/":"my-salsa","/shop":"shop","/signup":"signup","/tellafriend":"tellafriend","/thank_you_page":"thankyou","/questionnaire/":"questionnaire","/action3":"action","/viewCart.jsp":"shop-cart","/item.jsp":"shop-item"},activeLabelSelector:'input[type="radio"]',$inputsWithPlaceholders:jQuery("#left_container input, #credit_card_information input, .diaFields:not(.eventFields) input, .diaFields:not(.eventFields) textarea, .login input, .logincreate input, #questionnaireQuestions input, .event-page .tellafriend input, #honorof .textarea, .event-page .tellafriend textarea").not(".checkbox, .radio, :hidden"),placeholderLabelSpeed:100,placeholderHideSelectLabels:!0,mobilizeConversions:{Email:"email",In_Honor_Email:"email",Zip:"number",cc:"number",Employer_Zip:"number",Phone:"tel",Work_Phone:"tel",Cell_Phone:"tel",otheramt:"number"},mobilizeBreak:500,allowCanadianPostalCodes:!1,regex:{zip:/^\d{5}(-\d{4})?$/,canadianPostal:/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z] +?[0-9][A-Z][0-9]$/i,email:/^[A-Z0-9._%-\+]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,integer:/^\d+$/,decimal:/^\d+\.?\d*$/},banana:"ripe"},initJQ:function(a){a="undefined"!=typeof a?a:"1.11.2",document.write('<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/'+a+'/jquery.min.js"></script>'),document.write("<script>window.jQ = jQuery.noConflict( true );</script>")},watchAJAX:function(){var a=this.settings.ajaxDefaultEvent;jQ(document).ajaxSuccess(function(b,c,d){-1!=d.url.indexOf("actionJSON.sjs")?a="actionloaded":-1!=d.url.indexOf("targetJSON.sjs")?a="targetsloaded":-1!=d.url.indexOf("processAction2.jsp")?a="actionprocessed":-1!=d.url.indexOf("blind_submit.sjs")&&(a="actionsubmitted blindactionsubmitted"),setTimeout(jQ(document).trigger(a),this.settings.ajaxDelay)}),jQ("form[action*='blind_submit.sjs']").length&&jQ(document).trigger("actionloaded")},addBodyClass:function(a){var b=window.location.pathname,c=null;a="undefined"!=typeof a?a:this.settings.bodyClasses,jQ.each(a,function(a,d){return b.indexOf(a)>1?(jQ("body").addClass(d),c=d,!1):void 0}),"action"==c&&($form=jQ("form[onsubmit]"),$form.length&&$form.attr("action").indexOf("blind_submit")>1?jQ("body").addClass("action-blind"):jQ("#sign-page").is(":visible")?jQ("body").addClass(jQ(".petitionContent").length?"action-petition":"action-targeted-or-multi"):jQ(document).ajaxSuccess(function(a,b,c){-1!=c.url.indexOf("actionJSON.sjs")&&jQ("body").addClass(b.response.indexOf('"Style":"Targeted"')>1?"action-targeted":b.response.indexOf('"Style":"Petition"')>1?"action-petition":b.response.indexOf('"Style":"Multi-Content"')>1?"action-multi":"action-unknown")}))},activeLabels:function(a){a="undefined"!=typeof a?a:this.settings.activeLabelSelector,jQ(this.settings.activeLabelSelector).each(function(){var a=jQ(this),b=jQ("label[for='"+this.id+"']"),c=jQ(this).attr("name");b.addClass("active-label group-"+c),b.addClass(a.prop("checked")?"checked":"unchecked"),jQ("input[name='"+c+"']").on("change",function(){jQ("label.group-"+c).removeClass("checked").addClass("unchecked"),jQ("label[for='"+this.id+"']").addClass("checked")})})},placeholderLabels:function(a){a="undefined"!=typeof a?a:100,this.settings.$inputsWithPlaceholders.siblings("label").addClass("placeholder").siblings("input, textarea").addClass("with-placeholder"),jQ(".with-placeholder").focus(function(){""!==jQ(this).val()?jQ(this).siblings(".placeholder:visible").fadeTo(a,0):jQ(this).siblings(".placeholder:visible").fadeTo(a,.2)}).keyup(function(){""!==jQ(this).val()?jQ(this).siblings(".placeholder:visible").fadeOut(a,0):jQ(this).siblings(".placeholder:hidden").fadeTo(a,.2)}).change(function(){""!==jQ(this).val()?jQ(this).siblings(".placeholder:visible").fadeOut(a,0):jQ(this).siblings(".placeholder:hidden").fadeTo(a,.2)}).blur(function(){""===jQ(this).val()&&jQ(this).siblings(".placeholder").fadeTo(a,1)}),jQ(".with-placeholder").each(function(a){""!==jQ(this).val()&&jQ(this).trigger("change")}),this.settings.placeholderHideSelectLabels&&this.hideSelectLabels()},hideSelectLabels:function(){jQ(".formRow select").each(function(){$(this).closest(".formRow").find("label").addClass("hidden")})},addCSSHelpers:function(){jQ("#CVV2").parents(".formRow").addClass("cvv-field"),jQ("#ccExpMonth").parents(".formRow").addClass("expires-field"),$("span.required").parent("label").next("input, select").attr("required","required")},addMissingInputTypes:function(a){if(!arguments.length)var a=jQ("input[id]").not("[type]");jQ.each(a,function(a,b){var c=$(this).attr("id");return c?void(document.getElementById(c).type="text"):!0})},getFieldValidationType:function(a){var b;switch(a.attr("name")){case"Email":b="email";break;case"Zip":b="zip";break;case"Phone":b="phone";break;case"cc":case"CVV2":b="integer";break;default:b="empty"}return b},validateField:function(a,b){if(a=a.trim(),!a||0===a.length)return!1;if("empty"==b)return!0;if("zip"==b){var c=this.settings.regex.zip.test(a);return c?!0:this.settings.allowCanadianPostalCodes?this.settings.regex.canadianPostal.test(a):!1}return"email"==b?this.settings.regex.email.test(a):"integer"==b?this.settings.regex.integer.test(a):"decimal"==b?this.settings.regex.decimal.test(a):!0},advocacy:{main:function(){return this},validateSupporterFields:function(){var a=this.getRequiredFields(),b=!0;return jQ.each(a,function(a,c){var d=customSalsa.getFieldValidationType(c),e=customSalsa.validateField(c.val(),d);if(!e){var f="Please enter a valid value";return"email"===d?f="Please enter a valid email address":"zip"===d?f="Please enter a valid postal code":"First_Name"===c.attr("name")?f="Please enter a first name":"Last_Name"===c.attr("name")&&(f="Please enter a last name"),c.focus(),alert(f),b=!1,!1}}),b},getRequiredFields:function(){var a=[];return jQ("[required='required']").each(function(){a.push(jQ(this))}),jQ(".required").each(function(){var b=jQ(this).closest(".formRow").find("input, select");-1==jQ.inArray(b,a)&&a.push(b)}),a}},donation:{magicSetCCtype:function(a,b){var c={visa:/^4\d{15}$/,mc:/^5[1-5]\d{14}$/,amex:/^3[47]\d{13}$/,disc:/^6(?:011\d\d|5\d{4}|4[4-9]\d{3}|22(?:1(?:2[6-9]|[3-9]\d)|[2-8]\d\d|9(?:[01]\d|2[0-5])))\d{10}$/},d=!1,a="string"!=typeof a?a:jQ("#cc_number").val(),b="string"!=typeof b?b:"#cc_type";return jQ.each(c,function(c,e){return null!==a.match(e)?(d=c,jQ(b).val(c),!1):void 0}),d},isValidLuhn:function(a){var b=[0,2,4,6,8,1,3,5,7,9];return a="string"!=typeof a?a:jQ("#cc_number").val(),function(){for(var c,d=a.length,e=1,f=0;d;)c=parseInt(a.charAt(--d),10),f+=(e^=1)?b[c]:c;return f&&f%10===0}},isValidABA:function(a){var b=/^\d{9}$/,c=null;if(a=a.toString(),!b.test(a))return!1;for(var d=0;9>d;d+=3)c+=3*parseInt(a.charAt(d),10)+7*parseInt(a.charAt(d+1),10)+parseInt(a.charAt(d+2),10);return 0!==c&&c%10===0?!0:!1},isValidCC:function(a,b,c){var d=c,e=/^\d+$/,f=/^\d{3}$/,g={errors:[],isValid:!0};switch(d){case"visa":e=/^4\d{15}$/;break;case"mc":e=/^5[1-5]\d{14}$/;break;case"disc":e=/^6(?:011\d\d|5\d{4}|4[4-9]\d{3}|22(?:1(?:2[6-9]|[3-9]\d)|[2-8]\d\d|9(?:[01]\d|2[0-5])))\d{10}$/;break;case"amex":e=/^3[47]\d{13}$/,f=/^\d{4}$/}e.test(a)&&this.isValidLuhn(a)||(g.isValid=!1,g.errors.push({value:a,message:"A valid credit card number is required."})),f.test(b)||(g.isValid=!1,g.errors.push({value:b,message:"Invalid security code (CVV) number."}))}},mobilizr:{mobilizeInputTypes:function(a,b){return b="object"!=typeof b?b:customSalsa.settings.mobilizeConversions,a="number"!=typeof a?a:customSalsa.settings.mobilizeBreak,"function"!=typeof mediaCheck?!1:void mediaCheck({media:"(max-width: "+a+"px)",entry:function(){jQ.each(b,function(a,b){var c=jQ("input[name='"+a+"']");if(c.length&&c.attr("id")){var d=c.attr("id");c.data("original-type",document.getElementById(d).type),document.getElementById(d).type=b}})},exit:function(){jQ.each(b.conversions,function(a,b){var c=jQ("input[name='"+a+"']");if(c.length&&c.attr("id")&&c.data("original-type")){var d=c.attr("id");document.getElementById(d).type=c.data("original-type")}})}})},init:function(a){customSalsa.addCSSHelpers(),customSalsa.addMissingInputTypes(),this.mobilizeInputTypes(a),jQ("html").addClass("mobilized")}}};"object"!=typeof jQ&&"string"!=typeof jQ.fn.jquery&&customSalsa.initJQ();