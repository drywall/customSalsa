(function(){window.mediaCheck=function(options){var breakpoints,checkQuery,convertEmToPx,createListener,getPXValue,hasMatchMedia,i,mmListener,mq,mqChange;if(mq=void 0,mqChange=void 0,createListener=void 0,convertEmToPx=void 0,getPXValue=void 0,hasMatchMedia=void 0!==window.matchMedia&&!!window.matchMedia("!").addListener)return mqChange=function(a,b){return a.matches?"function"==typeof b.entry&&b.entry(a):"function"==typeof b.exit&&b.exit(a),"function"==typeof b.both?b.both(a):void 0},(createListener=function(){return mq=window.matchMedia(options.media),mq.addListener(function(){return mqChange(mq,options)}),window.addEventListener("orientationchange",function(){return mq=window.matchMedia(options.media),mqChange(mq,options)},!1),mqChange(mq,options)})();breakpoints={},mqChange=function(a,b){return a.matches?"function"!=typeof b.entry||breakpoints[b.media]!==!1&&null!=breakpoints[b.media]||b.entry(a):"function"!=typeof b.exit||breakpoints[b.media]!==!0&&null!=breakpoints[b.media]||b.exit(a),"function"==typeof b.both&&b.both(a),breakpoints[b.media]=a.matches},convertEmToPx=function(a){var b,c;return b=void 0,b=document.createElement("div"),b.style.width="1em",b.style.position="absolute",document.body.appendChild(b),c=a*b.offsetWidth,document.body.removeChild(b),c},getPXValue=function(a,b){var c;switch(c=void 0,b){case"em":c=convertEmToPx(a);break;default:c=a}return c};for(i in options)breakpoints[options.media]=null;return checkQuery=function(parts){var constraint,dimension,matches,ratio,value,windowHeight,windowWidth;return constraint=parts[1],dimension=parts[2],value=parts[4]?getPXValue(parseInt(parts[3],10),parts[4]):parts[3],windowWidth=window.innerWidth||document.documentElement.clientWidth,windowHeight=window.innerHeight||document.documentElement.clientHeight,"width"===dimension?matches="max"===constraint&&value>windowWidth||"min"===constraint&&windowWidth>value:"height"===dimension?matches="max"===constraint&&value>windowHeight||"min"===constraint&&windowHeight>value:"aspect-ratio"===dimension&&(ratio=windowWidth/windowHeight,matches="max"===constraint&&eval(ratio)<eval(value)||"min"===constraint&&eval(ratio)>eval(value)),matches},mmListener=function(){var a,b,c,d,e,f;for(c=options.media.split(/\sand\s|,\s/),a=!0,e=0,f=c.length;f>e;e++)b=c[e],d=b.match(/\((.*?)-(.*?):\s([\d\/]*)(\w*)\)/),checkQuery(d)||(a=!1);return mqChange({media:options.media,matches:a},options)},window.addEventListener?window.addEventListener("resize",mmListener):window.attachEvent&&window.attachEvent("onresize",mmListener),mmListener()}}).call(this);var customSalsa={settings:{ajaxDelay:50,ajaxDefaultEvent:"salsaajax",bodyClasses:{getLocal:"lookup","supporter/unsubscribe":"unsubscribe",profile:"profile",blastContent:"blasts","/letter":"letter-to-editor","/event/":"event","/my/":"my-salsa","/shop":"shop","/signup":"signup","/tellafriend":"tellafriend","/thank_you_page":"thankyou","/questionnaire/":"questionnaire","/action3":"action","/viewCart.jsp":"shop-cart","/item.jsp":"shop-item","/checkOut.jsp":"shop-checkout","/donation/":"donate"},activeLabelSelector:'input[type="radio"]',$inputsWithPlaceholders:jQuery("#left_container input, #credit_card_information input, .diaFields:not(.eventFields) input, .diaFields:not(.eventFields) textarea, .login input, .logincreate input, #questionnaireQuestions input, .event-page .tellafriend input, #honorof .textarea, .event-page .tellafriend textarea").not(".checkbox, .radio, :hidden"),placeholderLabelSpeed:100,placeholderHideSelectLabels:!0,mobilizeConversions:{Email:"email",In_Honor_Email:"email",Zip:"number",cc:"number",Employer_Zip:"number",Phone:"tel",Work_Phone:"tel",Cell_Phone:"tel",otheramt:"number"},mobilizeBreak:500,allowCanadianPostalCodes:!1,regex:{zip:/^\d{5}(-\d{4})?$/,canadianPostal:/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z] +?[0-9][A-Z][0-9]$/i,email:/^[A-Z0-9._%-\+]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,integer:/^\d+$/,decimal:/^\d+\.?\d*$/,dollar:/^[0-9]+(\.[0-9][0-9])?$/},multistepStings:{title:"Support Us Today!",secure:"Secure",step1_progress:"1. Amount",step1_button:"Next",step2_progress:"2. Name",step2_button:"Next",step3_progress:"3. Payment",step3_button:"Process Donation",amount_label:"Select an Amount",other_label:"Other amount:",monthly:"Make this a monthly gift",details_label:"Your Information",extra_label:"In Honor/Memory of...",extra_extra:"keep blank if none",extra_name_label:"Honoree's name",extra_email_label:"Email address",extra_addy_label:"Postal Address",code_label:"Designation code",code_options:[],remember:"Remember me so I can donate with one click in the future",payment_label:"Payment Information",mobileBreakpoint:650}},initJQ:function(a){a="undefined"!=typeof a?a:"1.11.3",document.write('<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/'+a+'/jquery.min.js"></script>'),document.write("<script>window.jQ = jQuery.noConflict( true );</script>")},watchAJAX:function(){var a=this.settings.ajaxDefaultEvent;s$(document).ajaxSuccess(function(b,c,d){-1!==d.url.indexOf("actionJSON.sjs")?a="actionloaded":-1!==d.url.indexOf("targetJSON.sjs")?a="targetsloaded":-1!==d.url.indexOf("processAction2.jsp")?a="actionprocessed":-1!==d.url.indexOf("blind_submit.sjs")?a="actionsubmitted blindactionsubmitted":-1!==d.url.indexOf("processWebform.sjs")&&(a="targetwebformsubmitted"),setTimeout(function(){jQ(document).trigger(a)},customSalsa.settings.ajaxDelay)}),jQ("form[action*='blind_submit.sjs']").length&&setTimeout(function(){jQ(document).trigger("actionloaded")},customSalsa.settings.ajaxDelay)},addBodyClass:function(a){var b=window.location.pathname,c=null;if(a="undefined"!=typeof a?a:this.settings.bodyClasses,jQ.each(a,function(a,d){return b.indexOf(a)>1?(jQ("body").addClass(d),c=d,!1):void 0}),"action"===c){var d=jQ("form[onsubmit]");d.length&&d.attr("action").indexOf("blind_submit")>1?jQ("body").addClass("action-blind"):jQ("#sign-page").is(":visible")?jQ(".petitionContent").length?jQ("body").addClass("action-petition"):jQ("body").addClass("action-targeted-or-multi"):s$(document).ajaxSuccess(function(a,b,c){-1!==c.url.indexOf("actionJSON.sjs")&&(b.response.indexOf('"Style":"Targeted"')>1?jQ("body").addClass("action-targeted"):b.response.indexOf('"Style":"Petition"')>1?jQ("body").addClass("action-petition"):b.response.indexOf('"Style":"Multi-Content"')>1?jQ("body").addClass("action-multi"):jQ("body").addClass("action-unknown"))})}},activeLabels:function(a){a="undefined"!=typeof a?a:this.settings.activeLabelSelector,jQ(this.settings.activeLabelSelector).each(function(){var a=jQ(this),b=jQ("label[for='"+this.id+"']"),c=jQ(this).attr("name");b.addClass("active-label group-"+c),a.prop("checked")?b.addClass("checked"):b.addClass("unchecked"),jQ("input[name='"+c+"']").on("change",function(){jQ("label.group-"+c).removeClass("checked").addClass("unchecked"),jQ("label[for='"+this.id+"']").addClass("checked")})})},placeholderLabels:function(a){a="undefined"!=typeof a?a:100,this.settings.$inputsWithPlaceholders.siblings("label").addClass("placeholder").siblings("input, textarea").addClass("with-placeholder"),jQ(".with-placeholder").focus(function(){""!==jQ(this).val()?jQ(this).siblings(".placeholder:visible").fadeTo(a,0):jQ(this).siblings(".placeholder:visible").fadeTo(a,.2)}).keyup(function(){""!==jQ(this).val()?jQ(this).siblings(".placeholder:visible").fadeOut(a,0):jQ(this).siblings(".placeholder:hidden").fadeTo(a,.2)}).change(function(){""!==jQ(this).val()?jQ(this).siblings(".placeholder:visible").fadeOut(a,0):jQ(this).siblings(".placeholder:hidden").fadeTo(a,.2)}).blur(function(){""===jQ(this).val()&&jQ(this).siblings(".placeholder").fadeTo(a,1)}),jQ(".with-placeholder").each(function(a){""!==jQ(this).val()&&jQ(this).trigger("change")}),this.settings.placeholderHideSelectLabels&&this.hideSelectLabels()},hideSelectLabels:function(){jQ(".formRow select").each(function(){jQ(this).closest(".formRow").find("label").addClass("hidden")})},addCSSHelpers:function(){jQ("#CVV2").parents(".formRow").addClass("cvv-field"),jQ("#ccExpMonth").parents(".formRow").addClass("expires-field"),jQ("span.required").parent("label").next("input, select").attr("required","required")},addMissingInputTypes:function(a){a=a||jQ("input[id]").not("[type]"),jQ.each(a,function(a,b){var c=jQ(this).attr("id");return c?void(document.getElementById(c).type="text"):!0})},getFieldValidationType:function(a){var b;switch(a.attr("name")){case"Email":b="email";break;case"Zip":b="zip";break;case"Phone":b="phone";break;case"cc":case"CVV2":b="integer";break;default:b="empty"}return b},validateField:function(a,b){if(a=a.trim(),!a||0===a.length)return!1;if("empty"===b)return!0;if("zip"===b){var c=this.settings.regex.zip.test(a);return c?!0:this.settings.allowCanadianPostalCodes?this.settings.regex.canadianPostal.test(a):!1}return"email"===b?this.settings.regex.email.test(a):"integer"===b?this.settings.regex.integer.test(a):"decimal"===b?this.settings.regex.decimal.test(a):!0},showErrors:function(a){a.isValid||a.errors.length&&jQ.each(a.errors,function(a,b){b.message&&alert(b.message),b.element&&jQ(b.element).focus()})},advocacy:{validateSupporterFields:function(){var a=this.getRequiredActionFields(),b=!0;return jQ.each(a,function(a,c){var d=customSalsa.getFieldValidationType(c),e=customSalsa.validateField(c.val(),d);if(!e){var f="Please enter a valid value";return"email"===d?f="Please enter a valid email address":"zip"===d?f="Please enter a valid postal code":"First_Name"===c.attr("name")?f="Please enter a first name":"Last_Name"===c.attr("name")&&(f="Please enter a last name"),c.focus(),alert(f),b=!1,!1}}),b},getRequiredActionFields:function(){var a=[];return jQ("[required='required']").each(function(){a.push(jQ(this))}),jQ(".required").each(function(){var b=jQ(this).closest(".formRow").find("input, select");-1===jQ.inArray(b,a)&&a.push(b)}),a}},donation:{magicSetCCtype:function(a,b){var c={visa:/^4\d{15}$/,mc:/^5[1-5]\d{14}$/,amex:/^3[47]\d{13}$/,disc:/^6(?:011\d\d|5\d{4}|4[4-9]\d{3}|22(?:1(?:2[6-9]|[3-9]\d)|[2-8]\d\d|9(?:[01]\d|2[0-5])))\d{10}$/},d=!1,e="object"==typeof a?a.val():jQ("#cc_number").val();return b="string"==typeof b?b:"#cc_type",jQ.each(c,function(a,c){return null!==e.match(c)?(d=a,jQ(b).val(a),!1):void 0}),d},isValidLuhn:function(a){var b=[0,2,4,6,8,1,3,5,7,9];return a="string"!=typeof a?a:jQ("#cc_number").val(),function(){for(var c,d=a.length,e=1,f=0;d;)c=parseInt(a.charAt(--d),10),f+=(e^=1)?b[c]:c;return f&&f%10===0}},isValidABA:function(a){var b=/^\d{9}$/,c=null;if(a=a.toString(),!b.test(a))return!1;for(var d=0;9>d;d+=3)c+=3*parseInt(a.charAt(d),10)+7*parseInt(a.charAt(d+1),10)+parseInt(a.charAt(d+2),10);return 0!==c&&c%10===0?!0:!1},isValidCC:function(a,b,c){var d=c.val(),e=/^\d+$/,f=/^\d{3}$/,g={errors:[],isValid:!0};switch(d){case"visa":e=/^4\d{15}$/;break;case"mc":e=/^5[1-5]\d{14}$/;break;case"disc":e=/^6(?:011\d\d|5\d{4}|4[4-9]\d{3}|22(?:1(?:2[6-9]|[3-9]\d)|[2-8]\d\d|9(?:[01]\d|2[0-5])))\d{10}$/;break;case"amex":e=/^3[47]\d{13}$/,f=/^\d{4}$/}return e.test(a.val())&&this.isValidLuhn(a.val())||(g.isValid=!1,g.errors.push({value:a.val(),element:a,message:"A valid credit card number is required."})),f.test(b.val())||(g.isValid=!1,g.errors.push({value:b.val(),element:b,message:"Invalid security code (CVV) number."})),g},isValidCCExpiry:function(a,b){var c=new Date,d=c.getFullYear(),e=c.getMonth()+1,f={errors:[],isValid:!0};if(a.val()||(f={isValid:!1,errors:[{value:a.val(),element:a,message:"Please identify an expiration month"}]}),b.val()){if(+b.val()+2e3<d)return{isValid:!1,errors:[{element:b,message:"Please enter an expiration date in the future."}]};if(+b.val()+2e3===d&&+a.val()<e)return{isValid:!1,errors:[{element:a,message:"Please enter an expiration month/year in the future."}]}}else f.isValid=!1,f.errors.push({value:b.val(),element:b,message:"Please identify an expiration year"});return f},isValidDonationAmount:function(a){a=a||jQ("form.orderform");var b=+jQ('input[name="amountMinimum"]').val()||2,c=+jQ('input[name="amountLimit"]').val()||99999,d=(+jQ("#amount",a).val()+ +jQ("#amountOther",a).val(),{errors:[],isValid:!0});return""===jQ("#amount",a).val()&&""===jQ("#amountOther",a).val()?(d.isValid=!1,d.errors.push({value:jQ("#amountOther",a).val(),message:"Please choose or enter a dollar amount."}),d):jQ("#other:checked").length&&!customSalsa.settings.regex.dollar.test(jQ("#amountOther",a).val())?(d.isValid=!1,d.errors.push({value:jQ("#amountOther",a).val(),message:"Please enter a valid dollar amount."}),d):+jQ("#amount",a).val()+ +jQ("#amountOther",a).val()<b?(d.isValid=!1,d.errors.push({value:+jQ("#amount",a).val()+ +jQ("#amountOther",a).val(),message:"Please enter a larger amount; minimum is $"+b}),d):+jQ("#amount",a).val()+ +jQ("#amountOther",a).val()>c?(d.isValid=!1,d.errors.push({value:+jQ("#amount",a).val()+ +jQ("#amountOther",a).val(),message:"Please enter a smaller amount; maximum is $"+b}),d):d},validateStep:function(a,b){var c=jQ(".step"+a),d={errors:[],isValid:!0};return 1===a?(donationAmountValidation=this.isValidDonationAmount(c.closest("form")),donationAmountValidation.isValid||(d.isValid=!1,d.errors.push.apply(d.errors,donationAmountValidation.errors))):2===a?c.find(".required").not("span").each(function(){var a=jQ(this),b="Unknown";a.is("input")&&a.attr("placeholder")?b=a.attr("placeholder"):a.is("select")&&(b=jQ("option:first-child",a).text());var c=customSalsa.getFieldValidationType(a);customSalsa.validateField(a.val(),c)||(d.isValid=!1,d.errors.push({element:a,message:"A valid "+b+" is required"}))}):3===a&&(ccValidation=this.isValidCC(jQ("#cc_number"),jQ("#CVV2"),jQ("#cc_type")),ccValidation.isValid||(d.isValid=!1,d.errors.push.apply(d.errors,ccValidation.errors)),expiryValidation=this.isValidCCExpiry(jQ("#ccExpMonth"),jQ("#ccExpYear")),ccValidation.isValid||(d.isValid=!1,d.errors.push.apply(d.errors,expiryValidation.errors))),d.isValid?!0:b?(customSalsa.showErrors(d),!1):d},validateDonationForm:function(a,b){a=a||"form.orderform";var c,d,e,f=jQ(a),g={errors:[],isValid:!0};return f.find(".required").not("span").each(function(){var a=jQ(this),b="Unknown";if(-1!==jQ.inArray(a.attr("id"),["CVV2","cc_number","cc_type","ccExpMonth","ccExpYear"]))return!0;a.is("input")&&a.attr("placeholder")?b=a.attr("placeholder"):a.is("select")&&(b=jQ("option:first-child",a).text()),"amount"===jQ(this).attr("id")&&""===a.val().trim()&&(a=jQ("#amountOther"),b="amount");var c=customSalsa.getFieldValidationType(a);customSalsa.validateField(a.val(),c)||(g.isValid=!1,g.errors.push({element:a,message:"A valid "+b+" is required"}))}),c=this.isValidDonationAmount(f),c.isValid||(g.isValid=!1,g.errors.push.apply(g.errors,c.errors)),d=this.isValidCC(jQ("#cc_number"),jQ("#CVV2"),jQ("#cc_type")),d.isValid||(g.isValid=!1,g.errors.push.apply(g.errors,d.errors)),e=this.isValidCCExpiry(jQ("#ccExpMonth"),jQ("#ccExpYear")),d.isValid||(g.isValid=!1,g.errors.push.apply(g.errors,e.errors)),g.isValid?!0:b?(customSalsa.showErrors(g),!1):g},makeMultistep:function(a){var b=customSalsa.settings.multistepStrings;"object"==typeof a&&(b=jQ.extend(customSalsa.settings.multistepStrings,a));jQ("<div/>").addClass("progress-wrapper").append('<ul class="progress-meter" />').children("ul").append('<li class="step-1">'+b.step1_progress+"</li>").append('<li class="step-2">'+b.step2_progress+"</li>").append('<li class="step-3">'+b.step3_progress+"</li>").end(),jQ("<div/>").addClass("secure").append(b.secure).append('<i class="icon-lock"></i>'),jQ("<div/>").addClass("step1 single-step").data("step",1),jQ("<div/>").addClass("step2 single-step").data("step",2),jQ("<div/>").addClass("step3 single-step").data("step",3),jQ("<fieldset>"),jQ("<fieldset>"),jQ("<fieldset>");this.initForm(),this.attachBehaviors()}},mobilizr:{mobilizeInputTypes:function(a,b){return b="object"!=typeof b?b:customSalsa.settings.mobilizeConversions,a="number"!=typeof a?a:customSalsa.settings.mobilizeBreak,"function"!=typeof mediaCheck?!1:page.indexOf(!1)?!1:void mediaCheck({media:"(max-width: "+a+"px)",entry:function(){jQ.each(b,function(a,b){var c=jQ("input[name='"+a+"']");if(c.length&&c.attr("id")){var d=c.attr("id");c.data("original-type",document.getElementById(d).type),document.getElementById(d).type=b}})},exit:function(){jQ.each(b.conversions,function(a,b){var c=jQ("input[name='"+a+"']");if(c.length&&c.attr("id")&&c.data("original-type")){var d=c.attr("id");document.getElementById(d).type=c.data("original-type")}})}})},init:function(a){customSalsa.addCSSHelpers(),customSalsa.addMissingInputTypes(),this.mobilizeInputTypes(a),jQ("html").addClass("mobilized")}}};"object"!=typeof jQ&&"string"!=typeof jQ.fn.jquery&&customSalsa.initJQ();